# 자원
## ID3D12Resource
Direct3D 12에서 자원을 나타내는 인터페이스입니다. Direct3D 12에서 "자원"은 GPU가 사용할 수 있는 메모리 블록으로, 텍스처, 버퍼, 텍스처 배열, 쿠버 맵, 3D 텍스처 등을 포함합니다. ID3D12Resource 인터페이스는 이러한 자원을 관리하고 접근하는 데 사용됩니다.

자원은 주로 ID3D12Device::CreateCommittedResource 또는 ID3D12Device::CreatePlacedResource 메서드를 사용하여 생성됩니다.

D3D12_RESOURCE_DESC 구조체를 사용하여 자원의 속성을 정의합니다. 예를 들어, 자원의 크기, 포맷, 사용 용도 등을 지정할 수 있습니다.

Direct3D 12에서는 자원이 여러 상태를 가질 수 있습니다(예: 복사 대상, 렌더 타겟, 셰이더 리소스 등). 각 상태는 특정 용도에 맞게 자원을 준비합니다.
자원의 상태를 변경하기 위해 자원 배리어(Resource Barrier)를 사용합니다.



## Descriptor
GPU 자원은 공용적으로 사용할 수 있기 때문에 서술자라는 간접층을 둬서 자원을 렌더링 파이프라인에 묶습니다. GPU에서는 서술자를 통해 해당 자원이 어떻게 쓰여야 하는지 파악하고 사용합니다.

다음과 같은 종류가 있습니다.
1. CBV/SRV/UAV 서술자들은 각각 상수 버퍼, 쉐이더 자원, 순서 없는 접근을 나타냅니다.
2. Sampler 서술자는 텍스쳐 적용에 쓰이는 Sampler를 나타냅니다.
3. RTV (렌더 타겟)
4. DSV 서술자는 깊이/스텐셜 자원을 나타냅니다.

## DescriptorHeap
서술자들의 배열이고 서술자 종류마다 개별적인 서술자 힙이 필요합니다. 
서술자들은 응용 프로그램 초기화 시점에 생성해야 합니다. 
	
	m_d3dDevice->CreateDescriptorHeap(&rtvDescriptorHeapDesc, IID_PPV_ARGS(m_rtvDescriptorHeap.ReleaseAndGetAddressOf()))
	
DescriptorHeap을 생성하는 코드입니다.

	enum D3D12_DESCRIPTOR_HEAP_TYPE
	    {
	        D3D12_DESCRIPTOR_HEAP_TYPE_CBV_SRV_UAV	= 0,
	        D3D12_DESCRIPTOR_HEAP_TYPE_SAMPLER	= ( D3D12_DESCRIPTOR_HEAP_TYPE_CBV_SRV_UAV + 1 ) ,
	        D3D12_DESCRIPTOR_HEAP_TYPE_RTV	= ( D3D12_DESCRIPTOR_HEAP_TYPE_SAMPLER + 1 ) ,
	        D3D12_DESCRIPTOR_HEAP_TYPE_DSV	= ( D3D12_DESCRIPTOR_HEAP_TYPE_RTV + 1 ) ,
	        D3D12_DESCRIPTOR_HEAP_TYPE_NUM_TYPES	= ( D3D12_DESCRIPTOR_HEAP_TYPE_DSV + 1 ) 
	    } 	D3D12_DESCRIPTOR_HEAP_TYPE
DescriptorHeap의 종류는 위와 같습니다.

       auto cpuHandle = m_rtvDescriptorHeap->GetCPUDescriptorHandleForHeapStart();
       m_rtvDescriptorSize = m_d3dDevice->GetDescriptorHandleIncrementSize(D3D12_DESCRIPTOR_HEAP_TYPE_RTV);
       const CD3DX12_CPU_DESCRIPTOR_HANDLE rtvDescriptor(
           cpuHandle,
           static_cast<INT>(n), m_rtvDescriptorSize);
       m_d3dDevice->CreateRenderTargetView(m_renderTargets[n].Get(), &rtvDesc, rtvDescriptor);

서술자 힙에서 `m_rtvDescriptorSize, n(힙에서 몇 번째인지)`을 인자로 서술자를 가져옵니다.
`CreateRenderTargetView` 서술자 힙에 RTV 서술자를 생성합니다.

